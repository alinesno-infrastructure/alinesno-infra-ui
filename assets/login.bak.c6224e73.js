import{_ as j,u as A,a as F,r as d,b as i,o as c,m as v,e as s,w as a,h as o,i as x,c as L,f as p,j as w,k as V,l as T,d as r,g as $,p as D,q as G,n as H}from"./index.18ef4414.js";import{e as J,d as O}from"./jsencrypt.9003a9f2.js";const C=m=>(D("data-v-0cff2076"),m=m(),G(),m),P={class:"login"},Q=C(()=>p("h3",{class:"title"},"\u82E5\u4F9D\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF",-1)),W={class:"login-code"},X=["src"],Y={key:0},Z={key:1},ee={key:0,style:{float:"right"}},oe=C(()=>p("div",{class:"el-login-footer"},[p("span",null,"Copyright \xA9 2018-2023 ruoyi.vip All Rights Reserved.")],-1)),se={__name:"login.bak",setup(m){const M=A(),I=F(),{proxy:R}=H(),e=d({username:"admin",password:"admin123",rememberMe:!1,code:"",uuid:""}),U={username:[{required:!0,trigger:"blur",message:"\u8BF7\u8F93\u5165\u60A8\u7684\u8D26\u53F7"}],password:[{required:!0,trigger:"blur",message:"\u8BF7\u8F93\u5165\u60A8\u7684\u5BC6\u7801"}],code:[{required:!0,trigger:"change",message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}]},k=d(""),_=d(!1),f=d(!0),B=d(!1),K=d(void 0);function h(){R.$refs.loginRef.validate(n=>{n&&(_.value=!0,e.value.rememberMe?(r.set("username",e.value.username,{expires:30}),r.set("password",J(e.value.password),{expires:30}),r.set("rememberMe",e.value.rememberMe,{expires:30})):(r.remove("username"),r.remove("password"),r.remove("rememberMe")),M.login(e.value).then(()=>{I.push({path:K.value||"/"})}).catch(()=>{_.value=!1,f.value&&y()}))})}function y(){$().then(n=>{f.value=n.captchaEnabled===void 0?!0:n.captchaEnabled,f.value&&(k.value="data:image/gif;base64,"+n.img,e.value.uuid=n.uuid)})}function S(){const n=r.get("username"),t=r.get("password"),u=r.get("rememberMe");e.value={username:n===void 0?e.value.username:n,password:t===void 0?e.value.password:O(t),rememberMe:u===void 0?!1:Boolean(u)}}return y(),S(),(n,t)=>{const u=i("svg-icon"),b=i("el-input"),g=i("el-form-item"),q=i("el-checkbox"),z=i("el-button"),E=i("router-link"),N=i("el-form");return c(),v("div",P,[s(N,{ref:"loginRef",model:o(e),rules:U,class:"login-form"},{default:a(()=>[Q,s(g,{prop:"username"},{default:a(()=>[s(b,{modelValue:o(e).username,"onUpdate:modelValue":t[0]||(t[0]=l=>o(e).username=l),type:"text",size:"large","auto-complete":"off",placeholder:"\u8D26\u53F7"},{prefix:a(()=>[s(u,{"icon-class":"user",class:"el-input__icon input-icon"})]),_:1},8,["modelValue"])]),_:1}),s(g,{prop:"password"},{default:a(()=>[s(b,{modelValue:o(e).password,"onUpdate:modelValue":t[1]||(t[1]=l=>o(e).password=l),type:"password",size:"large","auto-complete":"off",placeholder:"\u5BC6\u7801",onKeyup:x(h,["enter"])},{prefix:a(()=>[s(u,{"icon-class":"password",class:"el-input__icon input-icon"})]),_:1},8,["modelValue","onKeyup"])]),_:1}),o(f)?(c(),L(g,{key:0,prop:"code"},{default:a(()=>[s(b,{modelValue:o(e).code,"onUpdate:modelValue":t[2]||(t[2]=l=>o(e).code=l),size:"large","auto-complete":"off",placeholder:"\u9A8C\u8BC1\u7801",style:{width:"63%"},onKeyup:x(h,["enter"])},{prefix:a(()=>[s(u,{"icon-class":"validCode",class:"el-input__icon input-icon"})]),_:1},8,["modelValue","onKeyup"]),p("div",W,[p("img",{src:o(k),onClick:y,class:"login-code-img"},null,8,X)])]),_:1})):w("v-if",!0),s(q,{modelValue:o(e).rememberMe,"onUpdate:modelValue":t[3]||(t[3]=l=>o(e).rememberMe=l),style:{margin:"0px 0px 25px 0px"}},{default:a(()=>[V("\u8BB0\u4F4F\u5BC6\u7801")]),_:1},8,["modelValue"]),s(g,{style:{width:"100%"}},{default:a(()=>[s(z,{loading:o(_),size:"large",type:"primary",style:{width:"100%"},onClick:T(h,["prevent"])},{default:a(()=>[o(_)?(c(),v("span",Z,"\u767B \u5F55 \u4E2D...")):(c(),v("span",Y,"\u767B \u5F55"))]),_:1},8,["loading","onClick"]),o(B)?(c(),v("div",ee,[s(E,{class:"link-type",to:"/register"},{default:a(()=>[V("\u7ACB\u5373\u6CE8\u518C")]),_:1})])):w("v-if",!0)]),_:1})]),_:1},8,["model"]),w("  \u5E95\u90E8  "),oe])}}},ne=j(se,[["__scopeId","data-v-0cff2076"],["__file","/home/runner/work/alinesno-infra-ui/alinesno-infra-ui/alinesno-ui/src/views/login.bak.vue"]]);export{ne as default};
