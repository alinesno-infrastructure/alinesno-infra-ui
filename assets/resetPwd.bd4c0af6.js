import{_ as P,H as g,r as b,b as t,o as V,c as x,w as l,e as s,h as r,k as p,n as y}from"./index.647cb747.js";import{b as h}from"./user.463d71ac.js";const q={__name:"resetPwd",setup(v){const{proxy:u}=y(),e=g({oldPassword:void 0,newPassword:void 0,confirmPassword:void 0}),m=b({oldPassword:[{required:!0,message:"\u65E7\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],newPassword:[{required:!0,message:"\u65B0\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{min:6,max:20,message:"\u957F\u5EA6\u5728 6 \u5230 20 \u4E2A\u5B57\u7B26",trigger:"blur"}],confirmPassword:[{required:!0,message:"\u786E\u8BA4\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{required:!0,validator:(i,o,a)=>{e.newPassword!==o?a(new Error("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4")):a()},trigger:"blur"}]});function f(){u.$refs.pwdRef.validate(i=>{i&&h(e.oldPassword,e.newPassword).then(o=>{u.$modal.msgSuccess("\u4FEE\u6539\u6210\u529F")})})}function c(){u.$tab.closePage()}return(i,o)=>{const a=t("el-input"),n=t("el-form-item"),w=t("el-button"),_=t("el-form");return V(),x(_,{ref:"pwdRef",model:r(e),rules:r(m),"label-width":"80px"},{default:l(()=>[s(n,{label:"\u65E7\u5BC6\u7801",prop:"oldPassword"},{default:l(()=>[s(a,{modelValue:r(e).oldPassword,"onUpdate:modelValue":o[0]||(o[0]=d=>r(e).oldPassword=d),placeholder:"\u8BF7\u8F93\u5165\u65E7\u5BC6\u7801",type:"password","show-password":""},null,8,["modelValue"])]),_:1}),s(n,{label:"\u65B0\u5BC6\u7801",prop:"newPassword"},{default:l(()=>[s(a,{modelValue:r(e).newPassword,"onUpdate:modelValue":o[1]||(o[1]=d=>r(e).newPassword=d),placeholder:"\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801",type:"password","show-password":""},null,8,["modelValue"])]),_:1}),s(n,{label:"\u786E\u8BA4\u5BC6\u7801",prop:"confirmPassword"},{default:l(()=>[s(a,{modelValue:r(e).confirmPassword,"onUpdate:modelValue":o[2]||(o[2]=d=>r(e).confirmPassword=d),placeholder:"\u8BF7\u786E\u8BA4\u65B0\u5BC6\u7801",type:"password","show-password":""},null,8,["modelValue"])]),_:1}),s(n,null,{default:l(()=>[s(w,{type:"primary",onClick:f},{default:l(()=>[p("\u4FDD\u5B58")]),_:1}),s(w,{type:"danger",onClick:c},{default:l(()=>[p("\u5173\u95ED")]),_:1})]),_:1})]),_:1},8,["model","rules"])}}},T=P(q,[["__file","/home/runner/work/alinesno-infra-ui/alinesno-infra-ui/alinesno-ui/src/views/system/user/profile/resetPwd.vue"]]);export{T as default};
