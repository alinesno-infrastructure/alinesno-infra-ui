import{_ as R,a as I,r as f,b as i,o as h,m as w,e,w as t,h as s,j as x,g as U,i as y,c as z,f as u,l as B,k as N,p as S,q as T,s as M,E as $,n as j}from"./index.647cb747.js";const k=d=>(S("data-v-6248c3fc"),d=d(),T(),d),A={class:"register"},F=k(()=>u("h3",{class:"title"},"\u82E5\u4F9D\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF",-1)),H={class:"register-code"},L=["src"],D={key:0},G={key:1},J={style:{float:"right"}},O=k(()=>u("div",{class:"el-register-footer"},[u("span",null,"Copyright \xA9 2018-2023 ruoyi.vip All Rights Reserved.")],-1)),Q={__name:"register",setup(d){const b=I(),{proxy:C}=j(),o=f({username:"",password:"",confirmPassword:"",code:"",uuid:""}),q={username:[{required:!0,trigger:"blur",message:"\u8BF7\u8F93\u5165\u60A8\u7684\u8D26\u53F7"},{min:2,max:20,message:"\u7528\u6237\u8D26\u53F7\u957F\u5EA6\u5FC5\u987B\u4ECB\u4E8E 2 \u548C 20 \u4E4B\u95F4",trigger:"blur"}],password:[{required:!0,trigger:"blur",message:"\u8BF7\u8F93\u5165\u60A8\u7684\u5BC6\u7801"},{min:5,max:20,message:"\u7528\u6237\u5BC6\u7801\u957F\u5EA6\u5FC5\u987B\u4ECB\u4E8E 5 \u548C 20 \u4E4B\u95F4",trigger:"blur"}],confirmPassword:[{required:!0,trigger:"blur",message:"\u8BF7\u518D\u6B21\u8F93\u5165\u60A8\u7684\u5BC6\u7801"},{required:!0,validator:(n,r,a)=>{o.value.password!==r?a(new Error("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4")):a()},trigger:"blur"}],code:[{required:!0,trigger:"change",message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}]},V=f(""),p=f(!1),_=f(!0);function m(){C.$refs.registerRef.validate(n=>{n&&(p.value=!0,M(o.value).then(r=>{const a=o.value.username;$.alert("<font color='red'>\u606D\u559C\u4F60\uFF0C\u60A8\u7684\u8D26\u53F7 "+a+" \u6CE8\u518C\u6210\u529F\uFF01</font>","\u7CFB\u7EDF\u63D0\u793A",{dangerouslyUseHTMLString:!0,type:"success"}).then(()=>{b.push("/login")}).catch(()=>{})}).catch(()=>{p.value=!1,_&&v()}))})}function v(){U().then(n=>{_.value=n.captchaEnabled===void 0?!0:n.captchaEnabled,_.value&&(V.value="data:image/gif;base64,"+n.img,o.value.uuid=n.uuid)})}return v(),(n,r)=>{const a=i("svg-icon"),g=i("el-input"),c=i("el-form-item"),E=i("el-button"),K=i("router-link"),P=i("el-form");return h(),w("div",A,[e(P,{ref:"registerRef",model:s(o),rules:q,class:"register-form"},{default:t(()=>[F,e(c,{prop:"username"},{default:t(()=>[e(g,{modelValue:s(o).username,"onUpdate:modelValue":r[0]||(r[0]=l=>s(o).username=l),type:"text",size:"large","auto-complete":"off",placeholder:"\u8D26\u53F7"},{prefix:t(()=>[e(a,{"icon-class":"user",class:"el-input__icon input-icon"})]),_:1},8,["modelValue"])]),_:1}),e(c,{prop:"password"},{default:t(()=>[e(g,{modelValue:s(o).password,"onUpdate:modelValue":r[1]||(r[1]=l=>s(o).password=l),type:"password",size:"large","auto-complete":"off",placeholder:"\u5BC6\u7801",onKeyup:y(m,["enter"])},{prefix:t(()=>[e(a,{"icon-class":"password",class:"el-input__icon input-icon"})]),_:1},8,["modelValue","onKeyup"])]),_:1}),e(c,{prop:"confirmPassword"},{default:t(()=>[e(g,{modelValue:s(o).confirmPassword,"onUpdate:modelValue":r[2]||(r[2]=l=>s(o).confirmPassword=l),type:"password",size:"large","auto-complete":"off",placeholder:"\u786E\u8BA4\u5BC6\u7801",onKeyup:y(m,["enter"])},{prefix:t(()=>[e(a,{"icon-class":"password",class:"el-input__icon input-icon"})]),_:1},8,["modelValue","onKeyup"])]),_:1}),s(_)?(h(),z(c,{key:0,prop:"code"},{default:t(()=>[e(g,{size:"large",modelValue:s(o).code,"onUpdate:modelValue":r[3]||(r[3]=l=>s(o).code=l),"auto-complete":"off",placeholder:"\u9A8C\u8BC1\u7801",style:{width:"63%"},onKeyup:y(m,["enter"])},{prefix:t(()=>[e(a,{"icon-class":"validCode",class:"el-input__icon input-icon"})]),_:1},8,["modelValue","onKeyup"]),u("div",H,[u("img",{src:s(V),onClick:v,class:"register-code-img"},null,8,L)])]),_:1})):x("v-if",!0),e(c,{style:{width:"100%"}},{default:t(()=>[e(E,{loading:s(p),size:"large",type:"primary",style:{width:"100%"},onClick:B(m,["prevent"])},{default:t(()=>[s(p)?(h(),w("span",G,"\u6CE8 \u518C \u4E2D...")):(h(),w("span",D,"\u6CE8 \u518C"))]),_:1},8,["loading","onClick"]),u("div",J,[e(K,{class:"link-type",to:"/login"},{default:t(()=>[N("\u4F7F\u7528\u5DF2\u6709\u8D26\u6237\u767B\u5F55")]),_:1})])]),_:1})]),_:1},8,["model"]),x("  \u5E95\u90E8  "),O])}}},Y=R(Q,[["__scopeId","data-v-6248c3fc"],["__file","/home/runner/work/alinesno-infra-ui/alinesno-infra-ui/alinesno-ui/src/views/register.vue"]]);export{Y as default};
